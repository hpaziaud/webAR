<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TP02 WebAR - Exercice 2 : AR.js avec marqueur Hiro</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene 
        embedded 
        arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true;"
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        
        <!-- Marqueur Hiro avec boîte semi-transparente qui tourne -->
        <a-marker preset="hiro" raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse;">
            <a-box 
                position="0 0.5 0" 
                material="color: #4CC3D9; opacity: 0.7; transparent: true;" 
                animation="property: rotation; to: 0 360 0; loop: true; dur: 2000;"
                class="clickable">
            </a-box>
        </a-marker>
        
        <!-- Caméra AR -->
        <a-entity camera></a-entity>
    </a-scene>

    <!-- Instructions pour l'utilisateur -->
    <div style="position: fixed; top: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; padding: 15px; border-radius: 5px; font-family: Arial, sans-serif; z-index: 1000;">
        <h3 style="margin: 0 0 10px 0;">Instructions AR</h3>
        <p style="margin: 5px 0;">1. Autorisez l'accès à la caméra</p>
        <p style="margin: 5px 0;">2. Pointez vers le marqueur Hiro</p>
        <p style="margin: 5px 0;">3. Une boîte bleue semi-transparente apparaîtra</p>
        <p style="margin: 5px 0;">4. Elle tournera automatiquement</p>
        <br>
        <p style="margin: 5px 0; font-size: 12px;">
            <strong>Marqueur Hiro :</strong><br>
            <a href="https://jeromeetienne.github.io/AR.js/data/images/HIRO.jpg" target="_blank" style="color: #4CC3D9;">Télécharger le marqueur</a>
        </p>
    </div>
</body>
</html>
